<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Slot Analyzer</title>
    <style>
        :root {
            --primary-color: #ffffff;
            --secondary-color: #4b5563;
            --accent-color: #9ca3af;
            --accent-yellow: #f9ff3e;
            --accent-green: #43ff2a;
            --background-color: #0f0f23;
            --card-color: #1a1a2e;
            --text-color: #e2e8f0;
            --text-secondary: #94a3b8;
            --border-radius: 12px;
            --shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--background-color);
            color: var(--text-color);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(107, 114, 128, 0.05) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(75, 85, 99, 0.05) 0%, transparent 20%);
        }

        .container {
            width: 100%;
            max-width: 500px;
            margin: 0 auto;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            margin-bottom: 30px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 700;
            font-size: 1.5rem;
            color: var(--primary-color);
        }

        .logo-icon {
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .language-selector {
            display: flex;
            gap: 5px;
            background-color: var(--card-color);
            border-radius: var(--border-radius);
            padding: 5px;
            box-shadow: var(--shadow);
        }

        .language-btn {
            padding: 6px 12px;
            border: none;
            background: transparent;
            border-radius: 6px;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 500;
            color: var(--text-secondary);
        }

        .language-btn.active {
            background-color: var(--text-secondary);
            color: white;
        }

        .card {
            background-color: var(--card-color);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            padding: 30px;
            width: 100%;
            text-align: center;
            transition: var(--transition);
            border: 1px solid rgba(255, 255, 255, 0.05);
            position: relative;
        }

        .subtitle {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-bottom: 10px;
            transition: var(--transition);
        }

        .subtitle.hidden {
            display: none;
        }

        h1 {
            margin-bottom: 20px;
            color: var(--primary-color);
            font-size: 1.8rem;
        }

        .slot-selector {
            margin-bottom: 20px;
            text-align: left;
            transition: var(--transition);
        }

        .slot-selector.hidden {
            display: none;
        }

        .slot-selector label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--text-secondary);
        }

        .custom-select {
            position: relative;
            width: 100%;
        }

        .custom-select select {
            display: none;
        }

        .select-selected {
            background-color: rgba(26, 26, 46, 0.8);
            border: 1px solid var(--secondary-color);
            border-radius: var(--border-radius);
            padding: 12px 16px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .select-selected:after {
            position: absolute;
            content: "";
            top: 50%;
            right: 16px;
            width: 0;
            height: 0;
            border: 6px solid transparent;
            border-color: var(--text-color) transparent transparent transparent;
            transform: translateY(-50%);
        }

        .select-selected.select-arrow-active:after {
            border-color: transparent transparent var(--text-color) transparent;
            top: 40%;
        }

        .select-items {
            position: absolute;
            background-color: var(--card-color);
            border: 1px solid var(--secondary-color);
            border-radius: var(--border-radius);
            top: 100%;
            left: 0;
            right: 0;
            z-index: 99;
            max-height: 300px;
            overflow-y: auto;
            margin-top: 4px;
        }

        .select-hide {
            display: none;
        }

        .select-items div {
            padding: 12px 16px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: var(--transition);
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .select-items div:last-child {
            border-bottom: none;
        }

        .select-items div:hover {
            background-color: rgba(255, 255, 255, 0.05);
        }

        .same-as-selected {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .slot-option {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .slot-icon {
            width: 24px;
            height: 24px;
            object-fit: cover;
            border-radius: 4px;
        }

        .upload-area {
            border: 2px dashed var(--secondary-color);
            border-radius: var(--border-radius);
            padding: 20px;
            margin: 20px 0;
            cursor: pointer;
            transition: var(--transition);
            background-color: rgba(26, 26, 46, 0.7);
            position: relative;
            min-height: 200px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        .upload-area.has-image {
            padding: 10px;
        }

        .upload-area:hover {
            border-color: var(--primary-color);
            background-color: rgba(107, 114, 128, 0.05);
        }

        .upload-icon {
            font-size: 48px;
            color: var(--secondary-color);
            margin-bottom: 15px;
        }

        .upload-text {
            font-size: 1.1rem;
            margin-bottom: 10px;
        }

        .upload-hint {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        #file-input {
            display: none;
        }

        .preview-image {
            max-width: 100%;
            max-height: 300px;
            border-radius: 8px;
            display: none;
            transition: var(--transition);
        }

        .btn {
            background: var(--accent-yellow);
            color: var(--background-color);
            border: none;
            border-radius: var(--border-radius);
            padding: 14px 28px;
            font-size: 1rem;
            font-weight: 1000;
            cursor: pointer;
            transition: var(--transition);
            width: 100%;
            margin-top: 20px;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: 0.5s;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(251, 191, 36, 0.4);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn:disabled {
            background: #374151;
            color: #9ca3af;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .btn:disabled::before {
            display: none;
        }

        .analysis-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(15, 15, 35, 0.7);
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border-radius: var(--border-radius);
            z-index: 10;
        }

        .analysis-overlay.active {
            display: flex;
        }

        .analysis-text {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--accent-yellow);
            margin-bottom: 20px;
        }

        .dots {
            display: inline-block;
            width: 20px;
            text-align: left;
        }

        .dots::after {
            content: '';
            animation: dots 1.5s steps(4, end) infinite;
        }

        @keyframes dots {
            0%, 20% { content: ''; }
            40% { content: '.'; }
            60% { content: '..'; }
            80%, 100% { content: '...'; }
        }

        .result-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(15, 15, 35, 0.85);
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border-radius: var(--border-radius);
            z-index: 20;
            padding: 15px;
            overflow-y: auto;
            pointer-events: none;
        }

        .result-overlay.active {
            display: flex;
        }

        .result-item {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            width: 100%;
            max-width: 280px;
            min-height: 44px;
        }

        .result-item:last-child {
            border-bottom: none;
        }

        .result-label {
            font-weight: 500;
            font-size: 0.95rem;
        }

        .result-value {
            font-weight: 700;
            color: var(--primary-color);
            font-size: 0.95rem;
        }

        .blurred {
            filter: blur(1px);
            opacity: 0.9;
        }

        footer {
            margin-top: 40px;
            text-align: center;
            color: var(--text-secondary);
            font-size: 0.8rem;
        }

        .button-container {
            position: relative;
            width: 100%;
        }

        #try-again-btn {
            display: none;
        }

        .text-highlight {
            color: var(--accent-green)
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <span>Slot<span class="text-highlight">Analyzer</span></span>
            </div>
            <div class="language-selector">
                <button class="language-btn active" data-lang="ru">RU</button>
                <button class="language-btn" data-lang="en">EN</button>
            </div>
        </header>

        <div class="card" id="upload-screen">
            <h1 data-i18n="title">–ê–Ω–∞–ª–∏–∑ —Å–ª–æ—Ç–∞</h1>
            <p class="subtitle" id="subtitle-text" data-i18n="subtitle">–í—ã–±–µ—Ä–∏—Ç–µ —Å–ª–æ—Ç –∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞:</p>
            
            <div class="slot-selector" id="slot-selector">
                <div class="custom-select">
                    <select id="slot-select">
                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Å–ª–æ—Ç</option>
                    </select>
                    <div class="select-selected">
                        <span data-i18n="choose-slot">–í—ã–±–µ—Ä–∏—Ç–µ —Å–ª–æ—Ç</span>
                    </div>
                    <div class="select-items select-hide"></div>
                </div>
            </div>
            
            <div class="upload-area" id="upload-area">
                <img id="preview-image" class="preview-image" alt="–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä">
                <div id="upload-content">
                    <div class="upload-icon">üì∏</div>
                    <div class="upload-text" data-i18n="upload-text">–ù–∞–∂–º–∏—Ç–µ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</div>
                </div>
                <input type="file" id="file-input" accept="image/*">
                
                <div class="analysis-overlay" id="analysis-overlay">
                    <div class="analysis-text" data-i18n="analyzing">–ê–ù–ê–õ–ò–ó<span class="dots"></span></div>
                </div>
                
                <div class="result-overlay" id="result-overlay">
                    <div class="result-title" data-i18n="result-title">–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞</div>
                    
                    <div class="result-item">
                        <span class="result-label" data-i18n="spins-label">–ß–µ—Ä–µ–∑ —Å–ø–∏–Ω–æ–≤:</span>
                        <span class="result-value" id="spins-value">25</span>
                    </div>
                    
                    <div class="result-item">
                        <span class="result-label" data-i18n="probability-label">–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å:</span>
                        <span class="result-value" id="probability-value">78%</span>
                    </div>
                    
                    <div class="result-item">
                        <span class="result-label" data-i18n="bet-label">–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Å—Ç–∞–≤–∫–∞:</span>
                        <span class="result-value" id="bet-value">15$</span>
                    </div>
                </div>
            </div>
            
            <div class="button-container">
                <button class="btn" id="analyze-btn" disabled data-i18n="analyze-btn">–ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å</button>
                <button class="btn" id="try-again-btn" data-i18n="try-again">–ï—â—ë —Ä–∞–∑</button>
            </div>
        </div>
    </div>

    <footer>
        <p data-i18n="footer">–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏–≥—Ä–æ–≤—ã—Ö —Å–ª–æ—Ç–æ–≤ | BETA –≤–µ—Ä—Å–∏—è</p>
    </footer>

    <script>
        // –ü–µ—Ä–µ–≤–æ–¥—ã –¥–ª—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        const translations = {
            ru: {
                "title": "–ê–Ω–∞–ª–∏–∑ —Å–ª–æ—Ç–∞",
                "subtitle": "–í—ã–±–µ—Ä–∏—Ç–µ —Å–ª–æ—Ç –∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞:",
                "choose-slot": "–í—ã–±–µ—Ä–∏—Ç–µ —Å–ª–æ—Ç",
                "upload-text": "–ù–∞–∂–º–∏—Ç–µ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è",
                "analyze-btn": "–ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å",
                "analyzing": "–ê–ù–ê–õ–ò–ó",
                "result-title": "–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞",
                "spins-label": "–ß–µ—Ä–µ–∑ —Å–ø–∏–Ω–æ–≤:",
                "probability-label": "–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å:",
                "bet-label": "–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Å—Ç–∞–≤–∫–∞:",
                "try-again": "–ï—â—ë —Ä–∞–∑",
                "footer": "–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏–≥—Ä–æ–≤—ã—Ö —Å–ª–æ—Ç–æ–≤ | BETA –≤–µ—Ä—Å–∏—è"
            },
            en: {
                "title": "Slot Analysis",
                "subtitle": "Select a slot and upload a screenshot for analysis:",
                "choose-slot": "Choose slot",
                "upload-text": "Click to upload an image",
                "analyze-btn": "Analyze",
                "analyzing": "ANALYZING",
                "result-title": "Analysis Results",
                "spins-label": "Spins in:",
                "probability-label": "Probability:",
                "bet-label": "Recommended bet:",
                "try-again": "Try Again",
                "footer": "Slot Game Analyzer | BETA version"
            }
        };

        // –î–∞–Ω–Ω—ã–µ —Å–ª–æ—Ç–æ–≤ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø—É—Ç—è–º–∏ –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º
        const slotsData = [
            {
                id: 'gates-of-olympus',
                name: 'Gates Of Olympus',
                icon: './static/slots/Gates_Of_Olympus.jpg',
            },
            {
                id: 'sweet-bananza',
                name: 'Bananza Sweet',
                icon: './static/slots/Bananza_Sweet.jpg',
            },
            {
                id: 'the-dog-house',
                name: 'The Dog House',
                icon: './static/slots/The_Dog_House.jpg',
            },
            {
                id: 'big-bass',
                name: 'Big Bass',
                icon: './static/slots/Big_Bass.jpg',
            },
            {
                id: 'sugar-rush',
                name: 'Shugar Rush',
                icon: './static/slots/Shugar_Rush.jpg',
            },
            {
                id: 'wild-west-gold',
                name: 'Wild West Gold',
                icon: './static/slots/Wild_West_Gold.jpg',
            },
            {
                id: 'zeus-vs-hades',
                name: 'Zeus vs Hades (Gods of War)',
                icon: './static/slots/Zeus_vs_Hades_(Gods_of_War).jpg',
            },
            {
                id: 'fortune',
                name: 'Fortune',
                icon: './static/slots/Fortune.jpg',
            },
            {
                id: 'slot-666',
                name: '666 slot',
                icon: './static/slots/666_slot.jpg',
            },
            {
                id: 'raging-waterfall',
                name: 'Raging Waterfall',
                icon: './static/slots/Raging_Waterfall.jpg',
            },
            {
                id: 'big-stack-lumberjack',
                name: 'Big Stack Lumberjack',
                icon: './static/slots/Big_Stack_Lumberjack.jpg',
            },
            {
                id: 'other',
                name: '–î–†–£–ì–û–ô –°–õ–û–¢ / ANOTHER SLOT',
                icon: '',
            }
        ];

        // –≠–ª–µ–º–µ–Ω—Ç—ã DOM
        const uploadScreen = document.getElementById('upload-screen');
        const fileInput = document.getElementById('file-input');
        const uploadArea = document.getElementById('upload-area');
        const uploadContent = document.getElementById('upload-content');
        const previewImage = document.getElementById('preview-image');
        const analyzeBtn = document.getElementById('analyze-btn');
        const tryAgainBtn = document.getElementById('try-again-btn');
        const languageBtns = document.querySelectorAll('.language-btn');
        const analysisOverlay = document.getElementById('analysis-overlay');
        const resultOverlay = document.getElementById('result-overlay');
        const slotSelect = document.getElementById('slot-select');
        const slotSelector = document.getElementById('slot-selector');
        const subtitleText = document.getElementById('subtitle-text');
        const selectSelected = document.querySelector('.select-selected');
        const selectItems = document.querySelector('.select-items');
        
        // –≠–ª–µ–º–µ–Ω—Ç—ã –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
        const spinsValue = document.getElementById('spins-value');
        const probabilityValue = document.getElementById('probability-value');
        const betValue = document.getElementById('bet-value');
        
        // –¢–µ–∫—É—â–∏–π —è–∑—ã–∫
        let currentLang = 'ru';
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—Ç–∞–≤–∫–∏ –∫—Ä–∞—Ç–Ω–æ–π 0.2
        function generateBet() {
            const min = 0.2;
            const max = 5;
            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ 25 (0.2 * 25 = 5)
            const multiplier = Math.floor(Math.random() * 25) + 1;
            return (multiplier * 0.2).toFixed(1);
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ —Å–µ–ª–µ–∫—Ç–∞
        function initializeCustomSelect() {
            // –î–æ–±–∞–≤–ª—è–µ–º –æ–ø—Ü–∏–∏ –≤ —Å–µ–ª–µ–∫—Ç
            slotsData.forEach(slot => {
                const option = document.createElement('option');
                option.value = slot.id;
                option.textContent = slot.name;
                slotSelect.appendChild(option);
            });

            // –°–æ–∑–¥–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã –¥–ª—è –≤—ã–ø–∞–¥–∞—é—â–µ–≥–æ —Å–ø–∏—Å–∫–∞
            slotsData.forEach(slot => {
                const div = document.createElement('div');
                div.innerHTML = `
                    <div class="slot-option">
                        <img src="${slot.icon}" alt="${slot.name}" class="slot-icon" onerror="this.style.display='none'">
                        <span>${slot.name}</span>
                    </div>
                `;
                div.addEventListener('click', function() {
                    slotSelect.value = slot.id;
                    selectSelected.innerHTML = `
                        <img src="${slot.icon}" alt="${slot.name}" class="slot-icon" onerror="this.style.display='none'">
                        <span>${slot.name}</span>
                    `;
                    selectItems.classList.add('select-hide');
                    selectSelected.classList.remove('select-arrow-active');
                    
                    checkAnalyzeButton();
                });
                selectItems.appendChild(div);
            });

            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –ø–æ —Å–µ–ª–µ–∫—Ç—É
            selectSelected.addEventListener('click', function(e) {
                e.stopPropagation();
                selectItems.classList.toggle('select-hide');
                selectSelected.classList.toggle('select-arrow-active');
            });

            // –ó–∞–∫—Ä—ã—Ç–∏–µ –≤—ã–ø–∞–¥–∞—é—â–µ–≥–æ —Å–ø–∏—Å–∫–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –µ–≥–æ
            document.addEventListener('click', function() {
                selectItems.classList.add('select-hide');
                selectSelected.classList.remove('select-arrow-active');
            });
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –≤—ã–±—Ä–∞–Ω–Ω—ã–º —è–∑—ã–∫–æ–º
        function updateLanguage() {
            document.querySelectorAll('[data-i18n]').forEach(element => {
                const key = element.getAttribute('data-i18n');
                if (translations[currentLang][key]) {
                    element.textContent = translations[currentLang][key];
                }
            });
        }
        
        // –°–º–µ–Ω–∞ —è–∑—ã–∫–∞
        languageBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —É –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫
                languageBtns.forEach(b => b.classList.remove('active'));
                // –î–æ–±–∞–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å –∫ –Ω–∞–∂–∞—Ç–æ–π –∫–Ω–æ–ø–∫–µ
                btn.classList.add('active');
                // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–µ–∫—É—â–∏–π —è–∑—ã–∫
                currentLang = btn.getAttribute('data-lang');
                // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
                updateLanguage();
            });
        });
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –ø–æ –æ–±–ª–∞—Å—Ç–∏ –∑–∞–≥—Ä—É–∑–∫–∏
        uploadArea.addEventListener('click', () => {
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
            if (!resultOverlay.classList.contains('active')) {
                fileInput.click();
            }
        });
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–∞
        fileInput.addEventListener('change', function() {
            if (this.files && this.files[0]) {
                const file = this.files[0];
                const reader = new FileReader();
                
                reader.onload = function(e) {
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–µ–≤—å—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
                    previewImage.src = e.target.result;
                    previewImage.style.display = 'block';
                    uploadContent.style.display = 'none';
                    uploadArea.classList.add('has-image');
                    
                    // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É –∞–Ω–∞–ª–∏–∑–∞ –µ—Å–ª–∏ –≤—ã–±—Ä–∞–Ω —Å–ª–æ—Ç
                    checkAnalyzeButton();
                    uploadArea.style.borderColor = 'var(--primary-color)';
                    uploadArea.style.backgroundColor = 'rgba(107, 114, 128, 0.05)';
                };
                
                reader.readAsDataURL(file);
            }
        });
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –∫–Ω–æ–ø–∫–∏ –∞–Ω–∞–ª–∏–∑–∞
        function checkAnalyzeButton() {
            if (slotSelect.value && fileInput.files.length > 0) {
                analyzeBtn.disabled = false;
            } else {
                analyzeBtn.disabled = true;
            }
        }
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ –∞–Ω–∞–ª–∏–∑–∞
        analyzeBtn.addEventListener('click', () => {
            // –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É –∞–Ω–∞–ª–∏–∑–∞
            analyzeBtn.disabled = true;
            
            // –°–∫—Ä—ã–≤–∞–µ–º –≤—ã–±–æ—Ä —Å–ª–æ—Ç–∞ –∏ –ø–æ–¥–∑–∞–≥–æ–ª–æ–≤–æ–∫
            slotSelector.classList.add('hidden');
            subtitleText.classList.add('hidden');
            
            // –î–µ–ª–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º—É—Ç–Ω—ã–º –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –æ–≤–µ—Ä–ª–µ–π –∞–Ω–∞–ª–∏–∑–∞
            previewImage.classList.add('blurred');
            analysisOverlay.classList.add('active');
            
            // –ò–º–∏—Ç–∏—Ä—É–µ–º –ø—Ä–æ—Ü–µ—Å—Å –∞–Ω–∞–ª–∏–∑–∞ (3 —Å–µ–∫—É–Ω–¥—ã)
            setTimeout(() => {
                // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–ª—É—á–∞–π–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
                const spins = Math.floor(Math.random() * (145 - 15 + 1)) + 15;
                const probability = Math.floor(Math.random() * (95 - 58 + 1)) + 58;
                const bet = generateBet(); // –ò—Å–ø–æ–ª—å–∑—É–µ–º –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—Ç–∞–≤–∫–∏
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
                spinsValue.textContent = spins;
                probabilityValue.textContent = `${probability}%`;
                betValue.textContent = `${bet}$`;
                
                // –°–∫—Ä—ã–≤–∞–µ–º –æ–≤–µ—Ä–ª–µ–π –∞–Ω–∞–ª–∏–∑–∞ –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–≤–µ—Ä—Ö –∫–∞—Ä—Ç–∏–Ω–∫–∏
                analysisOverlay.classList.remove('active');
                resultOverlay.classList.add('active');
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É "–ï—â—ë —Ä–∞–∑" –≤–º–µ—Å—Ç–æ "–ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å"
                analyzeBtn.style.display = 'none';
                tryAgainBtn.style.display = 'block';
            }, 3000);
        });
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ "–ï—â—ë —Ä–∞–∑"
        tryAgainBtn.addEventListener('click', () => {
            // –°–∫—Ä—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
            resultOverlay.classList.remove('active');
            previewImage.classList.remove('blurred');
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—ã–±–æ—Ä —Å–ª–æ—Ç–∞ –∏ –ø–æ–¥–∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å–Ω–æ–≤–∞
            slotSelector.classList.remove('hidden');
            subtitleText.classList.remove('hidden');
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É "–ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å" –≤–º–µ—Å—Ç–æ "–ï—â—ë —Ä–∞–∑"
            tryAgainBtn.style.display = 'none';
            analyzeBtn.style.display = 'block';
            
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ñ–æ—Ä–º—É
            resetForm();
        });
        
        // –°–±—Ä–æ—Å —Ñ–æ—Ä–º—ã
        function resetForm() {
            fileInput.value = '';
            slotSelect.value = '';
            analyzeBtn.disabled = true;
            previewImage.style.display = 'none';
            uploadContent.style.display = 'block';
            uploadArea.classList.remove('has-image');
            uploadArea.style.borderColor = 'var(--secondary-color)';
            uploadArea.style.backgroundColor = 'rgba(26, 26, 46, 0.7)';
            selectSelected.innerHTML = '<span data-i18n="choose-slot">–í—ã–±–µ—Ä–∏—Ç–µ —Å–ª–æ—Ç</span>';
            updateLanguage();
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', () => {
            initializeCustomSelect();
            updateLanguage();
        });
    </script>
</body>
</html>